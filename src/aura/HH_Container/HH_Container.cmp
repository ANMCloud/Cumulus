<aura:component controller="HH_Container_LCTRL" >
    <!-- public attributes -->
    <aura:attribute name="hhId" type="String" />

    <!-- private attributes -->
    <aura:attribute name="hh" type="SObject" access="private" />
    <aura:attribute name="listCon" type="Contact[]" access="private" />
    <aura:attribute name="showSpinner" type="Boolean" default="true" access="private" />
    <aura:attribute name="isAutoName" type="Boolean" access="private" />
    <aura:attribute name="isAutoFormalGreeting" type="Boolean" access="private" />
    <aura:attribute name="isAutoInformalGreeting" type="Boolean" access="private" />
    
    <!-- events we handle -->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:handler event="aura:doneWaiting" action="{!c.hideSpinner}"/> 
    <aura:handler event="c:HH_ContactChangedEvent" action="{!c.handleContactChangedEvent}"/>   
    <aura:handler event="c:HH_ContactReorderEvent" action="{!c.handleContactReorderEvent}"/>   
    
    <!-- markup follows... -->
    
    <form >
        <div class="slds">
            
            <!-- placeholder for uimessage component -->
            <div aura:id="divUIMessage" />
            
            <!-- PAGE HEADER -->
            <div class="slds-page-header" role="banner">
                <div class="slds-grid">
                    <div class="slds-col">
                        <nav role="navigation">
                            <p id="bread-crumb-label" class="slds-assistive-text">You are here:</p>
                            <ol class="slds-breadcrumb slds-list--horizontal" aria-labelledby="bread-crumb-label">
                                <li class="slds-list__item slds-text-heading--label"><a class="slds-type-focus" href="{!'/' + v.hhId}">{!v.hh.Name}</a></li>
                            </ol>
                        </nav>              
                        <h1 class="slds-text-heading--medium slds-p-top-medium">Manage Household</h1>
                    </div>        
                    
                    <div class="slds-col slds-no-flex slds-align-middle">
                        <div class="slds-button-group" role="group">
                            <ui:button class="slds-button slds-button--neutral" 
								aura:id="buttonCancel" 
                                buttonTitle="Click to return to Household" 
                                label="{!$Label.c.stgBtnCancel}" 
                                press="{!c.close}" />
                            <ui:button class="slds-button slds-button--brand" 
                                aura:id="buttonSave"
                                buttonTitle="Click to save and return to Household" 
                                label="{!$Label.c.stgBtnSave}" 
                                press="{!c.save}" />
                        </div>
                    </div>
                </div>
            </div>
            <!-- /PAGE HEADER -->
            
			<!-- Spinner for waiting feedback -->
            <aura:if isTrue="{!v.showSpinner}">
                <div class="slds-spinner_container">
                    <div class="slds-spinner--brand slds-spinner slds-spinner--medium" style="position:fixed;" aria-hidden="false" role="alert">
                        <div class="slds-spinner__dot-a"></div>
                        <div class="slds-spinner__dot-b"></div>
                    </div>
                </div>          
			</aura:if>            

            <!-- outer div of body below header -->
            <div class="myBodyContent">

				<!-- the Contact Cards & Canvas section -->
				<div class="slds-p-bottom--large">                
	                <c:HH_Canvas hh="{!v.hh}" listCon="{!v.listCon}" />
                </div>
                
                <!-- the section for our 3 special naming & greeting fields -->   
                <div class="slds-grid slds-grid--align-spread slds-m-around--medium">
                    <div class="slds-form--stacked" style="width:80%" >
                        
                        <ui:inputText value="{!v.hh.Name}" aura:id="txtHHName" class="slds-input" 
                        	label="Household Name" labelClass="slds-form-element__label" change="{!c.onTextChange}" />
                        <div class="slds-form-element slds-m-bottom--medium">
                            <div class="slds-form-element__control">
                                <label class="slds-checkbox">
                                    <ui:inputCheckbox aura:id="cbxAutoHHName" class="slds-checkbox" 
                                    	change="{!c.onCheck}" value="{!v.isAutoName}"/> 
                                    <span class="slds-checkbox--faux"></span>
                                    <span class="slds-form-element__label" for="exHHName">Auto Name</span>
                                </label>
                            </div>
                        </div>
                        
                        <ui:inputText value="{!v.hh.npo02__Formal_Greeting__c}" aura:id="txtFormalGreeting" class="slds-input" 
                        	label="Formal Greeting" labelClass="slds-form-element__label" change="{!c.onTextChange}" />
                        <div class="slds-form-element slds-m-bottom--medium">
                            <div class="slds-form-element__control">
                                <label class="slds-checkbox">
                                    <ui:inputCheckbox aura:id="cbxAutoFormalGreeting" class="slds-checkbox" 
                                    	change="{!c.onCheck}" value="{!v.isAutoFormalGreeting}"/> 
                                    <span class="slds-checkbox--faux"></span>
                                    <span class="slds-form-element__label" for="cbxAutoFormalGreeting">Auto Formal Greeting</span>
                                </label>
                            </div>
                        </div>

                        <ui:inputText value="{!v.hh.npo02__Informal_Greeting__c}" aura:id="txtInformalGreeting" class="slds-input" 
                        	label="Informal Greeting" labelClass="slds-form-element__label" change="{!c.onTextChange}" />
                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <label class="slds-checkbox">
                                    <ui:inputCheckbox aura:id="cbxAutoInformalGreeting" class="slds-checkbox" 
                                    	change="{!c.onCheck}" value="{!v.isAutoInformalGreeting}"/> 
                                    <span class="slds-checkbox--faux"></span>
                                    <span class="slds-form-element__label" for="cbxAutoInformalGreeting">Auto Informal Greeting</span>
                                </label>
                            </div>
                        </div>                        
                    </div>                        
                </div>
            </div> <!-- myBodyContent -->
        </div> <!-- slds -->
    </form>   
</aura:component>